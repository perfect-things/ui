<h2>Table</h2>

<div class="table-viewport">
	<Table round
		rowSelector=".row-sel"
		on:keydown="{onKey}"
		on:dblclick="{onSelect}"
		on:select="{onSelect}">
		<thead>
			<tr><th>Year</th><th>Month</th><th>Price</th></tr>
		</thead>
		<thead>
			<tr><th colspan="3">Year: 2021</th></tr>
		</thead>
		<tbody>
			<tr class="row-sel"><td>2021</td><td>January</td><td>$100</td></tr>
			<tr class="row-sel"><td>2021</td><td>February</td><td>$80</td></tr>
			<tr class="row-sel"><td>2021</td><td>March</td><td>$80</td></tr>
			<tr class="row-sel"><td>2021</td><td>April</td><td>$80</td></tr>
			<tr class="row-sel"><td>2021</td><td>May</td><td>$80</td></tr>
			<tr class="row-sel"><td>2021</td><td>June</td><td>$80</td></tr>
		</tbody>
		<tbody class="row-sel row-group">
			<tr><td>2021</td><td>April 1</td><td>$80</td></tr>
			<tr><td>2021</td><td>April 2</td><td>$80</td></tr>
		</tbody>
		<tbody>
			<tr class="row-sel"><td>2021</td><td>May</td><td>$80</td></tr>
			<tr class="row-sel"><td>2021</td><td>July</td><td>$80</td></tr>
			<tr class="row-sel"><td>2021</td><td>August</td><td>$80</td></tr>
			<tr class="row-sel"><td>2021</td><td>September</td><td>$80</td></tr>
			<tr class="row-sel"><td>2021</td><td>October</td><td>$80</td></tr>
			<tr class="row-sel"><td>2021</td><td>November</td><td>$80</td></tr>
			<tr class="row-sel"><td>2021</td><td>December</td><td>$80</td></tr>
		</tbody>
		<thead>
			<tr><th colspan="3">Year: 2020</th></tr>
		</thead>
		<tbody>
			<tr class="row-sel"><td>2020</td><td>January</td><td>$100</td></tr>
			<tr class="row-sel"><td>2020</td><td>February</td><td>$80</td></tr>
			<tr class="row-sel"><td>2020</td><td>March</td><td>$80</td></tr>
			<tr class="row-sel"><td>2020</td><td>April</td><td>$80</td></tr>
			<tr class="row-sel"><td>2020</td><td>May</td><td>$80</td></tr>
			<tr class="row-sel"><td>2020</td><td>June</td><td>$80</td></tr>
			<tr class="row-sel"><td>2020</td><td>July</td><td>$80</td></tr>
			<tr class="row-sel"><td>2020</td><td>August</td><td>$80</td></tr>
			<tr class="row-sel"><td>2020</td><td>September</td><td>$80</td></tr>
			<tr class="row-sel"><td>2020</td><td>October</td><td>$80</td></tr>
			<tr class="row-sel"><td>2020</td><td>November</td><td>$80</td></tr>
			<tr class="row-sel"><td>2020</td><td>December</td><td>$80</td></tr>
		</tbody>
		<thead>
			<tr><th colspan="3">Year: 2019</th></tr>
		</thead>
		<tbody>
			<tr class="row-sel"><td>2019</td><td>January</td><td>$100</td></tr>
			<tr class="row-sel"><td>2019</td><td>February</td><td>$80</td></tr>
			<tr class="row-sel"><td>2019</td><td>March</td><td>$80</td></tr>
			<tr class="row-sel"><td>2019</td><td>April</td><td>$80</td></tr>
			<tr class="row-sel"><td>2019</td><td>May</td><td>$80</td></tr>
			<tr class="row-sel"><td>2019</td><td>June</td><td>$80</td></tr>
			<tr class="row-sel"><td>2019</td><td>July</td><td>$80</td></tr>
			<tr class="row-sel"><td>2019</td><td>August</td><td>$80</td></tr>
			<tr class="row-sel"><td>2019</td><td>September</td><td>$80</td></tr>
			<tr class="row-sel"><td>2019</td><td>October</td><td>$80</td></tr>
			<tr class="row-sel"><td>2019</td><td>November</td><td>$80</td></tr>
			<tr class="row-sel"><td>2019</td><td>December</td><td>$80</td></tr>
		</tbody>
		<thead>
			<tr><th colspan="3">Year: 2018</th></tr>
		</thead>
		<tbody>
			<tr class="row-sel"><td>2018</td><td>January</td><td>$100</td></tr>
			<tr class="row-sel"><td>2018</td><td>February</td><td>$80</td></tr>
			<tr class="row-sel"><td>2018</td><td>March</td><td>$80</td></tr>
			<tr class="row-sel"><td>2018</td><td>April</td><td>$80</td></tr>
			<tr class="row-sel"><td>2018</td><td>May</td><td>$80</td></tr>
			<tr class="row-sel"><td>2018</td><td>June</td><td>$80</td></tr>
			<tr class="row-sel"><td>2018</td><td>July</td><td>$80</td></tr>
			<tr class="row-sel"><td>2018</td><td>August</td><td>$80</td></tr>
			<tr class="row-sel"><td>2018</td><td>September</td><td>$80</td></tr>
			<tr class="row-sel"><td>2018</td><td>October</td><td>$80</td></tr>
			<tr class="row-sel"><td>2018</td><td>November</td><td>$80</td></tr>
			<tr class="row-sel"><td>2018</td><td>December</td><td>$80</td></tr>
		</tbody>
		<thead>
			<tr><th colspan="3">Year: 2017</th></tr>
		</thead>
		<tbody>
			<tr class="row-sel"><td>2017</td><td>January</td><td>$100</td></tr>
			<tr class="row-sel"><td>2017</td><td>February</td><td>$80</td></tr>
			<tr class="row-sel"><td>2017</td><td>March</td><td>$80</td></tr>
			<tr class="row-sel"><td>2017</td><td>April</td><td>$80</td></tr>
			<tr class="row-sel"><td>2017</td><td>May</td><td>$80</td></tr>
			<tr class="row-sel"><td>2017</td><td>June</td><td>$80</td></tr>
			<tr class="row-sel"><td>2017</td><td>July</td><td>$80</td></tr>
			<tr class="row-sel"><td>2017</td><td>August</td><td>$80</td></tr>
			<tr class="row-sel"><td>2017</td><td>September</td><td>$80</td></tr>
			<tr class="row-sel"><td>2017</td><td>October</td><td>$80</td></tr>
			<tr class="row-sel"><td>2017</td><td>November</td><td>$80</td></tr>
			<tr class="row-sel"><td>2017</td><td>December</td><td>$80</td></tr>
		</tbody>
		<tfoot>
			<tr><td colspan="2">Sum</td><td>$180</td></tr>
		</tfoot>
	</Table>
</div>

<CodeExample html="{exampleHtml}" />

<API props="{apiProps}"/>


<script>
import { Table } from '../../../src';
import { API } from '../../api-table';
import { CodeExample } from '../../code-example';
import './Table.css';

const apiProps = [
	{ name: 'class', type: 'string', description: 'Additional css class name to be added to the component.' },
	{ name: 'data', type: 'object', description: 'Props to attach to the element\'s <em>dataset</em> attribute.' },
	{ name: 'round', description: 'Adds rounded corners to the table.' },
	{ name: 'rowSelector', type: 'string', default: 'tbody tr', description: 'A selector for a table row.<br>This is useful if a table needs row groups, in which case it would have a mix of TRs and TBODYs for rows. Both can have the same class, e.g. <em>.row</em> and this selector should then be provided here.' },
	{ name: 'scrollContainer', type: ['string','Element'], default: 'table wrapper', description: 'Selector or HTML Element to the scroll container. If table wrapper\'s height is not set to 100% of the container, and is taller than the container - the container will have to be scrollable, and in this case it must be provided here.' },
	{ name: 'scrollCorrectionOffset', type: 'number', default: '0', description: 'If an external <em>scrollContainer</em> is used - it is possible that it will have non-zero padding set, thus the table wrapper will be offset from the beginning of the container. This offset should be set here, so that the sticky headers work correctly.' },
	{ name: 'selectable', type: ['true', 'false'], description: 'Makes table rows selectable with mouse and adds keyboard navigation.' },
	{ name: 'bind:element', type: 'element', description: 'Exposes the HTML element of the component.' },
	{ name: 'on:click', type: 'function', description: 'Triggered after a row has been clicked.' },
	{ name: 'on:dblclick', type: 'function', description: 'Triggered after a row has been double-clicked.' },
	{ name: 'on:keydown', type: 'function', description: 'Triggered after key has been pressed.' },
	{ name: 'on:select', type: 'function', description: 'Triggered after a row selection has changed.' },
];



const exampleHtml = `
<Table rowSelector=".row-sel" round data="{{ id: 'table-id-1' }}">
		<thead>
			<tr><th>Year</th><th>Month</th><th>Price</th></tr>
		</thead>
		<thead>
			<tr><th colspan="3">Year: 2021</th></tr>
		</thead>
		<tbody>
			<tr class="row-sel"><td>2021</td><td>January</td><td>$100</td></tr>
			<tr class="row-sel"><td>2021</td><td>February</td><td>$80</td></tr>
			<tr class="row-sel"><td>2021</td><td>March</td><td>$80</td></tr>
			<tr class="row-sel"><td>2021</td><td>April</td><td>$80</td></tr>
			<tr class="row-sel"><td>2021</td><td>May</td><td>$80</td></tr>
			<tr class="row-sel"><td>2021</td><td>June</td><td>$80</td></tr>
		</tbody>
		<tbody class="row-sel row-group">
			<tr><td>2021</td><td>April 1</td><td>$80</td></tr>
			<tr><td>2021</td><td>April 2</td><td>$80</td></tr>
		</tbody>
		<tbody>
			<tr class="row-sel"><td>2021</td><td>May</td><td>$80</td></tr>
			<tr class="row-sel"><td>2021</td><td>July</td><td>$80</td></tr>
			<tr class="row-sel"><td>2021</td><td>August</td><td>$80</td></tr>
			<tr class="row-sel"><td>2021</td><td>September</td><td>$80</td></tr>
			<tr class="row-sel"><td>2021</td><td>October</td><td>$80</td></tr>
			<tr class="row-sel"><td>2021</td><td>November</td><td>$80</td></tr>
			<tr class="row-sel"><td>2021</td><td>December</td><td>$80</td></tr>
		</tbody>
		<thead>
			<tr><th colspan="3">Year: 2020</th></tr>
		</thead>
		<tbody>
			...
		</tbody>
		<tfoot>
			<tr><td colspan="2">Sum</td><td>$180</td></tr>
		</tfoot>
	</Table>
`;


function onKey (e) {
	const { event, selectedItem } = e.detail;
	if (event.key === 'Enter') console.log(selectedItem);
}

function onSelect (e) {
	const { selectedItem } = e.detail;
	console.log(e.type, selectedItem);
}

</script>
